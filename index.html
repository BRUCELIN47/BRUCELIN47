<!DOCTYPE html >
<html >
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="CSS/index.css">
<title>经典九宫格流式布局</title>
</head>

<body  bgcolor="#00AEAE">

<header1><img src="img/t4.gif"></header1>
<!--header开始-->
<header>超级男神郑良广</header>
<!--header结束-->
<nav><img src="img/6.jpg"></nav>
<!--中开始-->
<embed height="50" width="100" src="mus/Kalimba.mp3">
<p1><front>有的人很帅，因为他是--<a href="https://www.baidu.com/s?ie=utf-8&f=8&rsv_bp=1&rsv_idx=1&tn=baidu&wd=%E9%83%91%E8%89%AF%E5%B9%BF&oq=%25E9%2583%2591%25E8%2589%25AF&rsv_pq=c565b2e00003f05b&rsv_t=12455I03i40lD7LCk3rjj7k2qBzWlp91R57C3EEzYxrylh4HJVpYbkMwhaQ&rqlang=cn&rsv_enter=0&inputT=26109&rsv_sug4=27472">郑良广</a></front><p1>
<div class="zhong">
	<div class="m0"><img src="img/timg (1).gif"></div>
	<div class="m2"><font><a href="https://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E5%A4%A7%E7%8C%A9%E7%8C%A9&hs=2&pn=0&spn=0&di=83710&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&ie=utf-8&oe=utf-8&cl=2&lm=-1&cs=583777185%2C740157140&os=1443770383%2C3007484287&simid=0%2C0&adpicid=0&lpn=0&ln=30&fr=ala&fm=&sme=&cg=&bdtype=0&oriquery=%E5%A4%A7%E7%8C%A9%E7%8C%A9&objurl=http%3A%2F%2Fnews.youth.cn%2Fjsxw%2F201706%2FW020170604377964547661.jpg&fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo9_z%26e3Bu6jjr_z%26e3BvgAzdH3Fi5pAzdH3F8b80b8n_z%26e3Bip4s&gsm=0&islist=&querylist=" >良广的生活照</a></font><img src="img/timg.jpg"></div>
	<div class="m3"><font><a href="https://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E7%94%B7%E4%BA%BA%E5%9B%A2&hs=2&pn=0&spn=0&di=91850&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&ie=utf-8&oe=utf-8&cl=2&lm=-1&cs=2991938207%2C2350344390&os=3201832468%2C3382597880&simid=0%2C0&adpicid=0&lpn=0&ln=30&fr=ala&fm=&sme=&cg=&bdtype=0&oriquery=%E7%94%B7%E4%BA%BA%E5%9B%A2&objurl=http%3A%2F%2Fhbimg.b0.upaiyun.com%2Fb202cf0c1254a49f699e9ddb0ce3fa9d9448d2fb4a1ec-HpnibC_fw658&fromurl=ippr_z2C%24qAzdH3FAzdH3Fi7wkwg_z%26e3Bv54AzdH3FrtgfAzdH3F8an0dabb8dAzdH3F&gsm=0&islist=&querylist=">良广的私密照</a></font><img src="img/timg (1).jpg"></div>
	<div class="m4"><font><a href="https://image.baidu.com/search/detail?ct=503316480&z=0&ipn=d&word=%E7%94%B7%E7%A5%9E&hs=2&pn=1&spn=0&di=179300&pi=0&rn=1&tn=baiduimagedetail&is=0%2C0&ie=utf-8&oe=utf-8&cl=2&lm=-1&cs=1554146619%2C1298270195&os=280631041%2C1218525379&simid=0%2C0&adpicid=0&lpn=0&ln=30&fr=ala&fm=&sme=&cg=&bdtype=0&oriquery=%E7%94%B7%E7%A5%9E&objurl=http%3A%2F%2Fi1.hdslb.com%2Fbfs%2Farchive%2F6ca44c8df851180cdcd7a1ae3942d8c90e7d2855.jpg&fromurl=ippr_z2C%24qAzdH3FAzdH3Fooo_z%26e3Bktstktst_z%26e3Bv54AzdH3Fpw2AzdH3F%25Em%25lD%25bE%25Eb%25bn%25lC%25Ec%25lF%25BAAzdH3F&gsm=0&islist=&querylist=">性感男神良广</a></font><img src="img/timg (2).jpg"></div>
	<div class="m5"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">良广爱紧裤</a></font><img src="img/timg (3).jpg"></div>
	<div class="m6"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">紧裤爱良广</a></font><img src="img/timg.gif"></div>
	<div class="m7"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">良广是帅</a></font><img src="img/1.gif"></div>
	<div class="m8"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">良广好厉害</a></font><img src="img/2.gif"></div>
	<div class="m9"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">良广是王八蛋</a></font><img src="img/3.gif"></div>
	<div class="m10"><font><a href="https://www.jianshu.com/p/af06c58c5fe5">良广是狗逼</a></font><img src="img/4.gif"></div>
</div>


<!--中结束-->

<!--下开始-->
<div class="xia"><img src="img/5.gif"></div>
<!--下结束-->

 <div class="box">
   <div class="barrage-container-wrap clearfix">
    <div class="barrage-container">
    </div> 
  </div>
  <div class="send-wrap">
    <input type="text" class="input" placeholder="弹幕发送">
    <span class="send-btn">发送</span>
  </div> 
</div>


<video src="Screen/野生动物.mp4" ></video>

</body>



<script>
;(function(){
  var barrageArray = [
          {
            url: '用户头像',
            text: '秋天爱美丽',
            level: 10
          },
          {
            url: '用户头像',
            text: '今天很开心啊',
            level: 10
          },
          {
            url: '用户头像',
            text: 'winter has come',
            level: 10
          },
          {
            url: '',
            text: '土耳其现在形势',
            level: 10
          },
          {
            url: '',
            text: '没事早点回家吃饭啊',
            level: 10
          },
           {
            url: '',
            text: '这主角真实醉了，不会回啊',
            level: 10
          },
          {
            url: '',
            text: '背景音乐真好听啊',
            level: 10
          },
          {
            url: '',
            text: '背景音乐是***',
            level: 10
          },
          {
            url: '',
            text: '经费在燃烧啊',
            level: 10
          },
          {
            url: '',
            text: '国产良心剧',
            level: 10
          },
      ];
  var barrageColorArray = [
    '#0099CC','#333333', '#009966','#FFFF66','#9933FF','#FFFF99','#CCCCFF','#CC9933','#FFFF66'
  ];
  var barrageTipWidth = 50; //提示语的长度
 
  var barrageBoxWrap = document.querySelector('.barrage-container-wrap');;
  var barrageBox = document.querySelector('.barrage-container');
  var inputBox = document.querySelector('.input');
  var sendBtn = document.querySelector('.send-btn');
 
  //容器的宽高度
  var barrageWidth = ~~window.getComputedStyle(barrageBoxWrap).width.replace('px','');
  var barrageHeight = ~~window.getComputedStyle(barrageBoxWrap).height.replace('px','');
 
  //发送
  function sendMsg(){
    var inputValue = inputBox.value;
    inputValue .replace(/\ +/g, "");
 
    if (inputValue.length <= 0) {
        alert('请输入');
        return false;
    }
 
    //生成弹幕
    createBarrage(inputValue,true);
    inputBox.value = ''; 
  }
   
 
  //创建弹幕
  function createBarrage(msg, isSendMsg){
    var divNode = document.createElement('div');
    var spanNode = document.createElement('span');
 
    divNode.innerHTML = msg;
    divNode.classList.add('barrage-item');
    barrageBox.appendChild(divNode);
 
    spanNode.innerHTML = '举报';
    spanNode.classList.add('barrage-tip');
    divNode.appendChild(spanNode);
 
    barrageOffsetLeft = getRandom(barrageWidth, barrageWidth*2);
    barrageOffsetLeft = isSendMsg ? barrageWidth : barrageOffsetLeft
    barrageOffsetTop = getRandom(10, barrageHeight-10);
    barrageColor = barrageColorArray[Math.floor(Math.random()*(barrageColorArray.length))];
 
    //执行初始化滚动
    initBarrage.call(divNode,{
      left : barrageOffsetLeft,
      top : barrageOffsetTop,
      color : barrageColor
    });
  }
 
  //初始化弹幕移动(速度，延迟)
  function initBarrage(obj) {
    //初始化
    obj.top = obj.top || 0;
    obj.class = obj.color || '#fff';
    this.style.left = obj.left + 'px';
    this.style.top = obj.top + 'px';
    this.style.color = obj.color;  
 
    //添加属性
    this.distance = 0;
    this.width = ~~window.getComputedStyle(this).width.replace('px','');
    this.offsetLeft = obj.left;
    this.timer = null;
 
    //弹幕子节点
    var barrageChileNode = this.children[0];
    barrageChileNode.style.left = (this.width-barrageTipWidth)/2 + 'px';
 
    //运动
    barrageAnimate(this);
 
    //停止
    this.onmouseenter = function(){
      barrageChileNode.style.display= 'block';
      cancelAnimationFrame(this.timer);
    };
 
    this.onmouseleave = function(){
      barrageChileNode.style.display = 'none';
      barrageAnimate(this);
    };
 
    //举报
    barrageChileNode.onclick = function(){
      alert('举报成功');
    }
  }
  
  //弹幕动画
  function barrageAnimate(obj){
    move(obj);
 
    if(Math.abs(obj.distance) < obj.width+obj.offsetLeft){
      obj.timer = requestAnimationFrame(function(){
        barrageAnimate(obj);
      });
    }else{
      cancelAnimationFrame(obj.timer);
      //删除节点
      obj.parentNode.removeChild(obj);
    }
  }
 
  //移动
  function move(obj){
    obj.distance--;
    obj.style.transform = 'translateX('+obj.distance+'px)';
    obj.style.webkitTransform = 'translateX('+obj.distance+'px)';
  }
 
  //随机获取高度
  function getRandom(start, end){
    return start +(Math.random() * (end - start));
  }
 
 
  /*******初始化事件**********/
  //系统数据
  barrageArray.forEach(function(item,index){
    createBarrage(item.text, false);
  });
 
  //点击发送
  sendBtn.onclick = sendMsg;   //点击发送
 
  //回车
  inputBox.onkeydown = function(e){
    e = e|| window.event;
    if(e.keyCode == 13){
      send();
    }
  }
 
})()
 
//兼容写法
(function() {
    var lastTime = 0;
    var vendors = ['webkit', 'moz'];
    for(var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||    // Webkit中此取消方法的名字变了
                                      window[vendors[x] + 'CancelRequestAnimationFrame'];
    }
 
    if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(callback, element) {
            var currTime = new Date().getTime();
            var timeToCall = Math.max(0, 16.7 - (currTime - lastTime));
            var id = window.setTimeout(function() {
                callback(currTime + timeToCall);
            }, timeToCall);
            lastTime = currTime + timeToCall;
            return id;
        };
    }
    if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(id) {
            clearTimeout(id);
        };
    }
}());
</script>


</html>
